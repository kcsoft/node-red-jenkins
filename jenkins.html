<script type="text/javascript">
  RED.nodes.registerType('jenkins' ,{
      category: 'jenkins',
      color: '#efefef',
      defaults: {
      name: {
        value: '',
      },
      method: {
        value: '',
      },
      params: {
        value: '',
      },
      connection: {
        value: '',
        type: 'jenkins-connection',
        required: true,
      }
    },
    inputs: 1,
    outputs: 1,
    icon: 'jenkins.png',
    label: function() {
      return this.name || 'Jenkins';
    }
  });
</script>

<script type="text/html" data-template-name="jenkins">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-connection"><i class="fa fa-plug"></i> Connection</label>
    <input type="text" id="node-input-connection">
  </div>
  <div class="form-row">
    <label for="node-input-method">Method</label>
    <input type="text" id="node-input-method">
  </div>
  <div class="form-row">
    <label for="node-input-params">Params</label>
    <textarea id="node-input-params" style="width:300px"></textarea>
  </div>
</script>

<script type="text/html" data-help-name="jenkins">
  <p>You can pass in <code>msg.method</code> and optional <code>msg.params</code> or specify a method/params in the configuration of the node.</p>
  <p><code>msg.method</code> is the Jenkins API method to call. For example, <code>build.get</code>.</p>
  <p><code>msg.params</code> is an object containing the parameters to pass to the method. For example, <code>{"name": "myjob"}</code>. If the method requires multiple parameters, you can pass them in an array. For example, <code>["myjob", 1]</code>.</p>
  <p>After execution, the <code>msg.payload</code> will contain the result.</p>
</script>